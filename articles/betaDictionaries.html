<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Beta dictionaries • dsUpload</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Beta dictionaries">
<meta property="og:description" content="dsUpload">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsUpload</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/DSUpload.html">dsUpload</a>
    </li>
    <li>
      <a href="../articles/betaDictionaries.html">Beta dictionaries</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lifecycle-project/ds-upload/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><link href="betaDictionaries_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="betaDictionaries_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Beta dictionaries</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lifecycle-project/ds-upload/blob/master/vignettes/betaDictionaries.Rmd"><code>vignettes/betaDictionaries.Rmd</code></a></small>
      <div class="hidden name"><code>betaDictionaries.Rmd</code></div>

    </div>

    
    
<div id="beta-dictionaries" class="section level1">
<h1 class="hasAnchor">
<a href="#beta-dictionaries" class="anchor"></a>Beta dictionaries</h1>
<p>The beta dictionaries are used to be able to initiate creation of dictonaries in the harmonisation process of new variables in a very early stage. As a PI you can manage and create new dictionaries which can be uploaded and tested by involved cohorts in a pilot phase of the project. Dictionaries can be changed and updated at any time and the network will be unaffected. After testing and approving the final beta dictionary the variables will be included in the main dictionaries and released when in the 3 months cycle.</p>
<div id="how-it-works" class="section level2">
<h2 class="hasAnchor">
<a href="#how-it-works" class="anchor"></a>How it works</h2>
<p>You need to have a few prerequisites - <a href="https://git-scm.com/">Git</a> - <a href="https://rstudio.com/">RStudio</a> - <a href="https://">Opal</a> - <a href="https://www.microsoft.com/nl-nl/microsoft-365/excel">Excel</a></p>
</div>
<div id="working-with-ds-beta-dictionaries" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-ds-beta-dictionaries" class="anchor"></a>Working with ds-beta-dictionaries</h2>
<p>You need to ‘clone’ the repository on your own workingstation to be able to create new dictionaries. This means you get a copy of the directory on your own system. You can do this by executing the following command:</p>
<p><code>git clone https://github.com/lifecycle-project/ds-beta-dictionaries</code></p>
<p>Now you have your own copy to work in.</p>
</div>
<div id="create-dictionaries" class="section level2">
<h2 class="hasAnchor">
<a href="#create-dictionaries" class="anchor"></a>Create dictionaries</h2>
<p>Within the <em>dictionaries</em>-directory of the repository you need to create a dictionary for your study. This will result in a structure like:</p>
<ul>
<li>ds-beta-dictionaries
<ul>
<li>dictionaries
<ul>
<li>yourstudy
<ul>
<li>dict_#flavor$</li>
<li>dict_#different flavor$</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The flavors can be: - non_rep - weekly_rep (0-) - monthly_rep (0-219) - trimester (1-3) - yearly_rep (0-17)</p>
<p>Then you need to create a dictionary based upon the variables you want to harmonise. To illustrate how you do this you can use the <a href="https://github.com/lifecycle-project/ds-beta-dictionaries/example-dictionary/example-dictionary-non_rep.xlsx">example</a> as a reference.</p>
<p>When you finished writing the dictionary you need to commit and push them to the repository on Github. Please check the <a href="https://github.com/lifecycle-project/analysis-tutorials/blob/master/GIT-WORKFLOW.md">git-workflow</a> document to get the dictionaries exposed.</p>
</div>
<div id="upload-dictionaries-and-data-to-opal" class="section level2">
<h2 class="hasAnchor">
<a href="#upload-dictionaries-and-data-to-opal" class="anchor"></a>Upload dictionaries and data to Opal</h2>
<p>When a first version of a beta dictionary is available, you can upload it to opal with the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="../reference/du.login.html">du.login</a></span><span class="op">(</span>
  hostname <span class="op">=</span> <span class="st">"https://opal.edge.molgenis.org"</span>, 
  password <span class="op">=</span> <span class="st">"admin"</span><span class="op">)</span>
<span class="co">#&gt;   Login to: "https://opal.edge.molgenis.org"</span>
<span class="co">#&gt;   Logged on to: "https://opal.edge.molgenis.org"</span>
  
<span class="fu"><a href="../reference/du.upload.beta.html">du.upload.beta</a></span><span class="op">(</span>
  dict_name <span class="op">=</span> <span class="st">"example-dictionary"</span>, 
  data_input_path <span class="op">=</span> <span class="st">"/Users/sido/VisualStudioCodeProjects/ds-beta-dictionaries/data/example-dictionary/beta_dict_generated_data.csv"</span><span class="op">)</span>
<span class="co">#&gt;  * Create temporary workdir</span>
<span class="co">#&gt; ######################################################</span>
<span class="co">#&gt;   Start download dictionaries</span>
<span class="co">#&gt; ------------------------------------------------------</span>
<span class="co">#&gt; * Download: [ example-dictionary-non_rep.xlsx ]</span>
<span class="co">#&gt;   Successfully downloaded dictionaries</span>
<span class="co">#&gt; ------------------------------------------------------</span>
<span class="co">#&gt;   Start creating project: [ lc_beta_example-dictionary ]</span>
<span class="co">#&gt; * Project: [ lc_beta_example-dictionary ] already exists</span>
<span class="co">#&gt; ------------------------------------------------------</span>
<span class="co">#&gt;   Start importing dictionaries</span>
<span class="co">#&gt; * Table: [ example-dictionary-non_rep ] already exists</span>
<span class="co">#&gt; * Matched categories for table: [ example-dictionary-non_rep ]</span>
<span class="co">#&gt; * Import variables into: [ example-dictionary-non_rep ]</span>
<span class="co">#&gt;   All dictionaries are populated correctly</span>
<span class="co">#&gt; ######################################################</span>
<span class="co">#&gt;   Start reshaping data</span>
<span class="co">#&gt; ######################################################</span>
<span class="co">#&gt; * Setup: load data and set output directory</span>
<span class="co">#&gt; ------------------------------------------------------</span>
<span class="co">#&gt; Parsed with column specification:</span>
<span class="co">#&gt; cols(</span>
<span class="co">#&gt;   child_id = col_double(),</span>
<span class="co">#&gt;   age = col_double(),</span>
<span class="co">#&gt;   country = col_character()</span>
<span class="co">#&gt; )</span>
<span class="co">#&gt; * Generating: non-repeated measures</span>
<span class="co">#&gt; * Upload: [ 2020-10-20_21-25-46_example-dictionary-non_rep.csv ] to directory [ beta ]</span>
<span class="co">#&gt; ######################################################</span>
<span class="co">#&gt;   Reshaping successfully finished</span>
<span class="co">#&gt; ######################################################</span>
<span class="co">#&gt;  * Reinstate default working directory</span>
<span class="co">#&gt;  * Cleanup temporary directory</span></pre></div>
<p>After this youj need to manually upload the data just like you would in a released data upload. &gt; Be advised: the data is now placed into directories on the target system, in this case a “beta” directory</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sido Haakma.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
